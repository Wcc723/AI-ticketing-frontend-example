import{_ as V,f as b,g as E,h as c,i as A,c as n,o as a,j as u,a as e,d as I,w as N,r as W,t as i,F as x,k as h,l as q,v as G,n as p}from"./index-BeYsUQF_.js";const U={class:"min-h-screen bg-slate-100 font-sans text-slate-800"},X={key:0,class:"flex items-center justify-center h-screen"},J={key:1,class:"max-w-7xl mx-auto"},K={class:"grid lg:grid-cols-2 min-h-screen"},O={class:"lg:sticky lg:top-0 lg:h-screen flex flex-col justify-between p-8 bg-white"},Q={class:"flex justify-between items-center"},R={class:"text-sm text-slate-500"},Y={class:"relative aspect-square my-8"},Z={class:"text-center"},ee={class:"text-slate-600"},te={class:"p-8 lg:p-16 space-y-10"},se={class:"space-y-4"},oe={class:"text-5xl font-extrabold text-slate-900 tracking-tight"},le={class:"flex items-center gap-4 text-slate-500"},ne={class:"flex items-center gap-1 text-amber-500"},ae={class:"font-semibold text-slate-700"},ie={class:"grid grid-cols-3 gap-6"},re={class:"w-12 h-12 bg-white rounded-full flex items-center justify-center mx-auto shadow-lg mb-2"},de={key:0,class:"w-6 h-6 text-indigo-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},ue={key:1,class:"w-6 h-6 text-indigo-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},ce={key:2,class:"w-6 h-6 text-indigo-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},ve={class:"font-semibold text-slate-800"},pe={class:"text-sm text-slate-500"},ge={class:"bg-white rounded-3xl p-8 shadow-2xl shadow-slate-200/80 space-y-8"},be={class:"space-y-4"},xe={class:"flex items-baseline justify-between"},he={class:"space-y-1"},me={class:"flex items-baseline gap-3"},fe={class:"text-4xl font-bold tracking-tight text-indigo-600"},_e={key:0,class:"text-xl font-medium text-slate-400 line-through"},we={key:0,class:"px-3 py-1 bg-red-100 text-red-700 font-bold rounded-full text-sm"},ye={key:0,class:"flex items-center gap-2 text-sm text-red-600 font-semibold"},ke={class:"space-y-2"},Ce={key:0,class:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 border border-slate-200/80"},ze={class:"font-semibold text-slate-700 text-sm"},Me={key:1,class:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 border border-slate-200/80"},De={class:"font-semibold text-slate-700 text-sm"},Te={class:"space-y-5"},je={class:"flex flex-wrap gap-3"},Ae=["onClick","disabled"],$e={class:"grid grid-cols-4 gap-3"},Be=["onClick","disabled"],Le={class:"flex items-center gap-6"},Pe={class:"inline-flex items-center border border-slate-200 rounded-xl overflow-hidden bg-white shadow-sm"},Se=["disabled"],Fe=["max"],He=["disabled"],Ve=["disabled"],Ee={class:"pt-8"},Ie={class:"flex border-b border-slate-200"},Ne={class:"py-8"},We=["innerHTML"],qe={key:1,class:"grid grid-cols-2 gap-x-8 gap-y-4"},Ge={class:"text-slate-500"},Ue={class:"font-semibold text-slate-800"},Xe={key:2,class:"text-sm text-slate-600 space-y-4"},Je={class:"grid grid-cols-2 gap-4"},Ke={class:"flex flex-wrap gap-2"},Oe={__name:"Shop-Gemini",setup(Qe){const C=b(!0),o=b(null),r=b({color:"",size:""}),d=b(1),z=b(0),v=b("description");E(async()=>{C.value=!0;try{const l=await fetch("/data/womens-sneakers.json");o.value=await l.json(),r.value.color=o.value?.variants?.color?.[0]??"",r.value.size=o.value?.variants?.size?.[0]??""}catch(l){console.error("Failed to load product data:",l)}finally{C.value=!1}});const w=l=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(l),$=c(()=>w(o.value?.price||0)),m=c(()=>{if(!o.value?.promotions?.discountPercent)return!1;const l=new Date,t=new Date(`${o.value.promotions.discountStartDate}T00:00:00`),_=new Date(`${o.value.promotions.discountEndDate}T23:59:59`);return l>=t&&l<=_}),B=c(()=>{if(!m.value)return o.value?.price||0;const l=o.value.promotions.discountPercent||0;return Math.round(o.value.price*(100-l)/100)}),L=c(()=>w(B.value)),P=c(()=>{if(!m.value)return 0;const t=new Date(`${o.value.promotions.discountEndDate}T23:59:59`).getTime()-new Date().getTime();return Math.ceil(t/(1e3*60*60*24))}),M=c(()=>{const l=new Map;return o.value?.inventory.forEach(t=>{l.has(t.color)||l.set(t.color,new Map),l.get(t.color).set(t.size,t.stock)}),l}),D=l=>Array.from(M.value.get(l)?.values()||[]).some(t=>t>0),y=l=>(M.value.get(r.value.color)?.get(l)||0)>0,f=c(()=>M.value.get(r.value.color)?.get(r.value.size)??0),T=[{bg:"bg-gradient-to-br from-slate-900 to-slate-700",swatch:"bg-slate-800"},{bg:"bg-gradient-to-br from-gray-200 to-gray-50",swatch:"bg-white"},{bg:"bg-gradient-to-br from-sky-200 to-blue-200",swatch:"bg-sky-400"}],k=c(()=>o.value?.variants.color.map((l,t)=>({id:l,label:l,...T[t%T.length]}))||[]),S=c(()=>k.value[z.value]||{}),j=c(()=>f.value>0&&d.value>0),F=l=>{D(l)&&(r.value.color=l)},H=c(()=>[{icon:"feather",title:"極致輕量",desc:`僅重 ${o.value?.specs.重量||"210g"}`},{icon:"wind",title:"全方位透氣",desc:o.value?.specs.鞋面||"工程網布鞋面"},{icon:"zap",title:"高效能量回饋",desc:o.value?.specs.中底||"回彈核心"}]);return A(()=>r.value.color,l=>{if(z.value=k.value.findIndex(t=>t.label===l),d.value=1,!y(r.value.size)){const t=o.value?.variants.size.find(_=>y(_));r.value.size=t||""}}),A(f,l=>{d.value>l&&(d.value=l>0?l:1)}),(l,t)=>{const _=W("router-link");return a(),n("div",U,[C.value?(a(),n("div",X,[...t[6]||(t[6]=[e("div",{class:"w-12 h-12 border-4 border-slate-200 border-t-indigo-500 rounded-full animate-spin"},null,-1)])])):o.value?(a(),n("div",J,[e("main",K,[e("div",O,[e("div",Q,[I(_,{to:"/menu",class:"flex items-center gap-2 group"},{default:N(()=>[...t[7]||(t[7]=[e("div",{class:"w-9 h-9 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-indigo-300 transition-shadow"},[e("span",{class:"text-white font-bold text-lg"},"A")],-1),e("span",{class:"text-xl font-bold text-slate-800 group-hover:text-indigo-600 transition-colors"},"AthleX",-1)])]),_:1}),e("div",R,"/ "+i(o.value.category),1)]),e("div",Y,[(a(!0),n(x,null,h(k.value,(s,g)=>(a(),n("div",{key:s.id,class:p(["absolute inset-0 transition-opacity duration-500",g===z.value?"opacity-100":"opacity-0"])},[e("div",{class:p([s.bg,"h-full w-full rounded-3xl flex items-center justify-center"])},[...t[8]||(t[8]=[e("span",{class:"text-9xl drop-shadow-lg"},"👟",-1)])],2)],2))),128))]),e("div",Z,[e("p",ee,i(S.value.label),1)])]),e("div",te,[e("div",se,[e("h1",oe,i(o.value.name),1),e("div",le,[e("div",ne,[t[9]||(t[9]=e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",ae,i(o.value.rating),1)]),t[10]||(t[10]=e("span",null,"·",-1)),e("span",null,i(o.value.reviewsCount)+" 則評論",1)])]),e("div",ie,[(a(!0),n(x,null,h(H.value,s=>(a(),n("div",{key:s.title,class:"text-center"},[e("div",re,[s.icon==="feather"?(a(),n("svg",de,[...t[11]||(t[11]=[e("path",{d:"M20.24 12.24a6 6 0 00-8.49-8.49L5 10.5V19h8.5zM16 8L2 22M17.5 15H9"},null,-1)])])):u("",!0),s.icon==="wind"?(a(),n("svg",ue,[...t[12]||(t[12]=[e("path",{d:"M9.59 4.59A2 2 0 1111 8H2m10.59 11.41A2 2 0 1014 16H2m15.73-8.27A2.5 2.5 0 1119.5 12H2"},null,-1)])])):u("",!0),s.icon==="zap"?(a(),n("svg",ce,[...t[13]||(t[13]=[e("path",{d:"M13 2L3 14h9l-1 8 11-12h-9z"},null,-1)])])):u("",!0)]),e("h3",ve,i(s.title),1),e("p",pe,i(s.desc),1)]))),128))]),e("div",ge,[e("div",be,[e("div",xe,[e("div",he,[t[14]||(t[14]=e("div",{class:"text-sm text-slate-500"},"價格",-1)),e("div",me,[e("span",fe,i(L.value),1),m.value?(a(),n("span",_e,i($.value),1)):u("",!0)])]),m.value?(a(),n("div",we,"-"+i(o.value.promotions.discountPercent)+"%",1)):u("",!0)]),m.value?(a(),n("div",ye,[t[15]||(t[15]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,"限時優惠，僅剩 "+i(P.value)+" 天！",1)])):u("",!0)]),e("div",ke,[o.value.promotions.coupon?(a(),n("div",Ce,[t[16]||(t[16]=e("span",{class:"px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold"},"優惠券",-1)),e("span",ze,i(o.value.promotions.coupon),1)])):u("",!0),o.value.promotions.installment?(a(),n("div",Me,[t[17]||(t[17]=e("span",{class:"px-2 py-0.5 bg-emerald-100 text-emerald-700 rounded-full text-xs font-bold"},"分期",-1)),e("span",De,i(o.value.promotions.installment),1)])):u("",!0)]),e("div",Te,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-base font-bold text-slate-800 mb-3"},"顏色",-1)),e("div",je,[(a(!0),n(x,null,h(k.value,(s,g)=>(a(),n("button",{key:s.id,onClick:Re=>F(s.label),disabled:!D(s.label),class:p(["w-10 h-10 rounded-full border-2 transition-all duration-200 flex items-center justify-center",[r.value.color===s.label?"border-indigo-500 ring-2 ring-indigo-200":"border-transparent",!D(s.label)&&"opacity-40 cursor-not-allowed"]])},[e("span",{class:p([s.swatch,"w-8 h-8 rounded-full shadow-inner border border-slate-200/50"])},null,2)],10,Ae))),128))])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-base font-bold text-slate-800 mb-3"},"尺寸",-1)),e("div",$e,[(a(!0),n(x,null,h(o.value.variants.size,s=>(a(),n("button",{key:s,onClick:g=>r.value.size=s,disabled:!y(s),class:p(["px-3 py-2 rounded-xl border text-sm font-semibold transition-all duration-200 shadow-sm",[s===r.value.size?"ring-2 ring-indigo-500 border-indigo-500 bg-indigo-50 text-indigo-700 shadow-md":"border-slate-200 bg-white hover:border-indigo-300",!y(s)&&"opacity-40 cursor-not-allowed line-through"]])},i(s),11,Be))),128))])])]),e("div",Le,[e("div",Pe,[e("button",{onClick:t[0]||(t[0]=s=>d.value=Math.max(1,d.value-1)),disabled:d.value<=1,class:"w-12 h-12 grid place-items-center text-slate-700 text-xl hover:bg-slate-50 disabled:opacity-40 transition-colors"},"-",8,Se),q(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),type:"number",min:"1",max:f.value,class:"w-14 text-center text-lg font-bold outline-none text-slate-800"},null,8,Fe),[[G,d.value,void 0,{number:!0}]]),e("button",{onClick:t[2]||(t[2]=s=>d.value=Math.min(f.value,d.value+1)),disabled:d.value>=f.value,class:"w-12 h-12 grid place-items-center text-slate-700 text-xl hover:bg-slate-50 disabled:opacity-40 transition-colors"},"+",8,He)]),e("button",{disabled:!j.value,class:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold text-lg py-4 rounded-2xl shadow-lg hover:shadow-xl shadow-indigo-400/50 hover:shadow-indigo-400/80 transition-all duration-300 transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-lg disabled:transform-none"},i(j.value?"加入購物車":"已售完"),9,Ve)])]),e("div",Ee,[e("div",Ie,[e("button",{onClick:t[3]||(t[3]=s=>v.value="description"),class:p(["px-6 py-3 font-semibold transition-colors",v.value==="description"?"text-indigo-600 border-b-2 border-indigo-500":"text-slate-500 hover:text-slate-800"])},"商品描述",2),e("button",{onClick:t[4]||(t[4]=s=>v.value="specs"),class:p(["px-6 py-3 font-semibold transition-colors",v.value==="specs"?"text-indigo-600 border-b-2 border-indigo-500":"text-slate-500 hover:text-slate-800"])},"詳細規格",2),e("button",{onClick:t[5]||(t[5]=s=>v.value="shipping"),class:p(["px-6 py-3 font-semibold transition-colors",v.value==="shipping"?"text-indigo-600 border-b-2 border-indigo-500":"text-slate-500 hover:text-slate-800"])},"運送 & 政策",2)]),e("div",Ne,[v.value==="description"?(a(),n("div",{key:0,class:"prose prose-slate max-w-none",innerHTML:o.value.descriptionDelta.ops.map(s=>s.insert).join(`
`).replace(/\n/g,"<br>")},null,8,We)):u("",!0),v.value==="specs"?(a(),n("div",qe,[(a(!0),n(x,null,h(o.value.specs,(s,g)=>(a(),n("div",{key:g,class:"border-b border-slate-200/80 py-2 flex justify-between text-sm"},[e("span",Ge,i(g),1),e("span",Ue,i(s),1)]))),128))])):u("",!0),v.value==="shipping"?(a(),n("div",Xe,[e("div",Je,[e("div",null,[t[20]||(t[20]=e("h4",{class:"font-semibold text-slate-800 mb-1"},"運送資訊",-1)),e("p",null,"滿 "+i(w(o.value.shipping.freeThreshold))+" 免運",1),e("p",null,"運費: "+i(w(o.value.shipping.fee)),1),e("p",null,"出貨地: "+i(o.value.shipping.shipFrom),1)]),e("div",null,[t[21]||(t[21]=e("h4",{class:"font-semibold text-slate-800 mb-1"},"售後政策",-1)),e("p",null,"退貨: "+i(o.value.policies.return),1),e("p",null,"保固: "+i(o.value.policies.warranty),1)])]),e("div",null,[t[22]||(t[22]=e("h4",{class:"font-semibold text-slate-800 mb-1"},"平台保障",-1)),e("div",Ke,[(a(!0),n(x,null,h(o.value.guarantees,s=>(a(),n("span",{key:s,class:"px-3 py-1 rounded-full bg-slate-200 text-slate-700 text-xs font-medium"},i(s),1))),128))])])])):u("",!0)])])])])])):u("",!0)])}}},Ze=V(Oe,[["__scopeId","data-v-d62b4dc4"]]);export{Ze as default};
